{"version":3,"sources":["imgs/juju_fern_white.png","imgs/accountInfo.png","imgs/device.png","imgs/tweed_logo.png","imgs/jujuNoNameBanner.png","imgs/unlock.png","imgs/controlInfo.png","imgs/Houndstooth.png","imgs/battery.png","observer-pattern.js","UUID.js","observers.js","managers/ble-manager.js","device-control.js","home-screen.js","index.js"],"names":["module","exports","Subscription","key","listener","observer","subscribeOnce","this","id","replace","c","r","Math","random","toString","call","data","args","remove","unsubscribe","Object","freeze","BLE_CONNECT","BLE_DISCONNECT","BLE_CURRENT_SET_POINT","BLE_BATTERY_STATUS","BLE_PUFF_COUNT","BLE_PUFF_SECONDS","bleObserver","subscriptions","Map","subscribe","undefined","console","log","subscriber","subscribers","has","get","set","sendMsg","forEach","value","subscription","updatedSubscribers","filter","sub","length","delete","unsubscribeKey","unsubscribeAll","clear","printSubscribers","bleManager","isConnected","device","server","svcInfo","svcCommand","charCommand","charResponse","options","acceptAllDevices","optionalServices","navigator","bluetooth","requestDevice","addEventListener","onDisconnected","gatt","connect","getPrimaryService","getCharacteristic","onCharResponseValueChanged","startNotifications","disconnect","bleServer","bleDevice","event","target","getUint8","currentTemperature","subs","batteryPercentage","totalCount","getUint16","totalTime","getFloat32","toFixed","cmdGetTemp","ArrayBuffer","DataView","setUint8","writeValue","temperature","cmdIncreaseTemp","floor","cmdGetBatteryUpdate","cmdGetPuffTime","cmdGetPuffCount","charFirmware","readValue","firmware","decoder","TextDecoder","decode","DeviceControl","props","handleChange","debounce","setSetPointTemperature","setState","setPointTemperature","state","redirect","puffCount","puffSeconds","onGetSetPointTemperature","bind","onGetBatterStatus","onGetPuffCount","onGetPuffSeconds","disconnectFromDevice","getSetPointTemperature","setTimeout","getBatteryStatus","getPuffCount","getPuffTime","func","wait","immediate","timeout","context","arguments","later","apply","callNow","clearTimeout","to","className","style","display","flex","flexDirection","height","backgroundImage","maxWidth","src","logo","alt","width","margin","accountInfo","marginTop","marginLeft","marginRight","alignItems","borderRadius","justifyContent","alignSelf","unlock","tweedLogo","controlInfo","color","fontFamily","fontSize","position","onChange","min","max","progressWidth","knobRadius","circleColor","progressColor","shadow","size","knobColor","pointerEvents","top","marginBottom","paddingLeft","paddingRight","oilBanner","backgroundColor","borderBottomLeftRadius","borderBottomRightRadius","onClick","React","Component","HomeScreen","connectToDevice","pen","bottom","left","zIndex","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.d2c2f424.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/juju_fern_white.7f796742.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJMAAABOCAYAAAAkRSTkAAAAAXNSR0IArs4c6QAAAX1JREFUeAHt2kEKwkAQBMBE/P+X1YughyzsJc00lYtKArNT3QiCx+EiQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQI9AufvKq/P9fvZewI7Ao+dhz1LYCWgTCsd97YElGmLy8MrAWVa6bi3JaBMW1weXgk8Vze/987P9X1/5+vVr8ur8+w+f+cuTbOunH0zNaUc3kWZwgE0jVempjTDuyhTOICm8crUlGZ4F2UKB9A0Xpma0gzvokzhAJrGK1NTmuFdlCkcQNN4ZWpKM7yLMoUDaBqvTE1phndRpnAATeOVqSnN8C7KFA6gabwyNaUZ3uXvH5RX/6ALn9H4IQK+mYYENeGYyjQhpSFnVKYhQU04pjJNSGnIGZVpSFCOSYAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECNwr8Abn+hQ1eAZ5rAAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/tweed_logo.e900130e.png\";","module.exports = __webpack_public_path__ + \"static/media/jujuNoNameBanner.3c498b0a.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABOCAYAAACDtFBaAAAAAXNSR0IArs4c6QAAA2hJREFUeAHtmr1rFUEUxbOJNoFol2gsxNgpQVAwhX+E+C/ETgux0U7QXtRKC7E2VsZCLW2ixCYWooWCKUQlln6AYvL8De7DDZmZszv78fLCvXDYzZyde8+evftmd0k2MqDo9XrHKH0aHAH7c+xjm4Ev4HOOt2wXsyxbYbuzA1OOghvgA6gaq0y4BWZ3nEuc1DS4C/6AurFOgnvgwNAbxUmMgSvgB2g6fpLwKhgbSqMQvgc8Bm3HUwrsHSqTEHwIvG7bmUL+N+zPtGGSWzEaDYQeJOEymBKJN+BfgIfgJeivXD32+6vaCfbPgFNgFMRiDXKO1W41dtBAOcwZBysgFr8hbwK3pJcKjp0C18EvEItXkOOlkg7iIMTdj6mHc78Xh1O1MXcGPAGxeJCav9V5KD4XUw3nnn/UbSI1uhzAdVMszstEXR6A0gmwFlF8sWk91LoQqfcVbqLpmsn5EOOeR0JxJzmxmEjB26GijF8T07uhETIJvgWEPmd8d1tKXG7gavjiO4NqJW1L2v+8iLjkU8fYBnDLdKtBjeN5LTZb4nKrxcskR9LSFln/BhbKzG/iGMotBDQsNZE/OQei3O3lXh590dlbN8VnfQIYc9omk0+w7kSKzweEva+bu+p8dLwLaDlbNVfx+LrPJXPFZIX9xcJ+V7uPAoVOBsZLDdc1aDpQ5VlgvM3hUM1a343qGhQq/rFNJwK5QzVDFzGQZvNwWwZ92lymk79CNUMXsZSoWp87+FF0nyx8OUb57OA+W3QWaHEXe91TsIeW5EZInpgL8Zkz0rU5Tgs13cXyXZQM87w683OIbuoaFE0+ANKZ5Ivk89zlyzbEY/O59n43FbdJp5Xceq6aezDzVaXda+X15RzUWHLrDUpw13XNIOG4GWQGCQcEbR1kBgkHBG0dZAYJBwRtHWQGCQcEHXwlCL1GiHxDS4dej+wWE5fUDDKDhAOCtg4yg4QDgq78RTH0ay/qbBu66upst5i4dGaQGSQcELR1kBkkHBC0dZAZJBwQtHWQGSQcELR1kBkkHBC0dZAZJBwQtHWQGSQcELR1kBkkHBC0dZAZJBwQtHWQGSQcELR1kBkkHBC0dZAZJBwQtHWQGSQcELR1kBkkHBB05f/uqPrfEaL+tqftFhOXyAwyg4QDgrYOMoOEA4L+CyFpxQP6B797AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAcBJREFUeAHtm9FtwzAMRNPukjHylS07jcbIFP3pAO4RYADBaHU0WhiQ8gQIUUI6Mp9oy9LBl8siZdu2u+qH6kP1K2u047f7ImEeD0PBX1Wbqivhcz3ew8RHKOCb6qcj09nD9zZxyPVTV6CROUfgPDnFMetnkoKsXFZPKPvPVh+KCT0VbdyQ/1pKN+636GVCRqed8vtpPU3aEYDMwAEIQIaAMZNBBtCUZk28p03zUwKKkxYkHhRHoydALDVGgDKLWKwWILHd4SBlNrFhVgGFDwQgAAEIQAACEIDAIgRy6wLJeD+euRqvbFmEz/pCXw9IAbMK74H07cwcJOMeSt8WoMplJbcfS+v/a7m2Qp5uLxnp2aQhsg+ADAFjJoMAZAgYMxlkAJ1qnnGaPxVQdCZIPCiOqAsQkvEIUGYRi9UCJCRjBymzCcm4AgofCEAAAhCAAAQgAIFFCOTWBZLxfjxzNV7ZsggfJGNBGBXeMh7RSRtvGRcgtf2lutR3AZhOMv6vAUB6NiSRfQBkCBgzGQQgQ8CYySADqGR+5Wm+BCicBKmy/vrtmbGVO5rVUZEjGbvBEyQk4wIkJGMHKezKppeQjL8B9mmm1xzFjDAAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/Houndstooth.7c0de86d.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAAAqCAYAAABBRS51AAAAAXNSR0IArs4c6QAAARxJREFUeAHtmUEOgzAMBAH1/19u+cAe1qrXRkyOlsNGM00U6Pm9x8FoJ3Dewwm5nGZ6cwQQk2NtJSHGwpVrRkyOtZWEGAtXrvmjotxbhHrO2+r/uuWyY5b+chCzVIw8ypau97HLco84dsxS1YhBzFICS5fFjkHMUgJLl8WtLCRGvbCr2xpHWUiMG4MYl1ioHzEh0G4MYlxioX7EhEC7MYhxiYX6ERMC7cYgxiUW6kdMCLQbgxiXWKgfMSHQbgzfylxixX71TUw9jh2jyAzXETMsQMUjRpEZriNmWICKR4wiM1znVhYSoP7BVPHsGEVmuI6YYQEqXh5l7guRCqBeI8COqXFrn4WYdsS1AMTUuLXPQkw74loAYmrc2mf9APjuGFji8dklAAAAAElFTkSuQmCC\"","import UUID from './UUID';\n\nfunction Subscription(key, listener, observer, subscribeOnce) {\n    this.id = UUID();\n\n    this.call = function (data = null, ...args) {\n        if (listener !== 'undefined') {\n            listener(data, ...args);\n        }\n\n        if (subscribeOnce === true) {\n            this.remove();\n        }\n    };\n\n    this.remove = function () {\n        observer.unsubscribe(key, this);\n    };\n}\n\n\nexport default function ObserverPattern() {\n    this.subscriptions = new Map();\n\n    this.subscribe = function (key, listener, subscribeOnce = false) {\n        if (key === undefined) {\n            console.log(`Subscribing with undefined key [${key}]`);\n            return null;\n        }\n\n        let subscriber = new Subscription(key, listener, this, subscribeOnce);\n\n        let subscribers = [];\n        if (this.subscriptions.has(key) === true) {\n            subscribers = this.subscriptions.get(key);\n        }\n\n        this.subscriptions.set(key, [...subscribers, subscriber]);\n\n        return subscriber;\n    };\n\n    this.sendMsg = function (key, data = null, ...args) {\n        if (this.subscriptions.has(key) === true) {\n            this.subscriptions.get(key).forEach((value) => {\n                value.call(data, ...args);\n            });\n        }\n    };\n\n    this.unsubscribe = function (key, subscription) {\n        if (this.subscriptions.has(key) === true) {\n            let subscribers = this.subscriptions.get(key);\n\n            let updatedSubscribers = subscribers.filter((sub) => {\n                return sub.id !== subscription.id;\n            })\n\n            this.subscriptions.set(key, updatedSubscribers);\n\n            // If the last listener was removed then delete the subscription key\n            if (updatedSubscribers.length === 0)\n                this.subscriptions.delete(key);\n        }\n    };\n\n    this.unsubscribeKey = function (key) {\n        this.subscriptions.delete(key);\n    };\n\n    this.unsubscribeAll = function () {\n        this.subscriptions.clear();\n    };\n\n    this.printSubscribers = function () {\n        console.log('--- Current Subscribers --------');\n        this.subscriptions.forEach((value, key) => {\n            console.log(`    [${key}] subscriber count=${value.length.toString()}`);\n        });\n        console.log('--------------------------------');\n    }\n}","'use strict';\n\nexport default function UUID() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}","import ObserverPattern from './observer-pattern';\n\nexport default Object.freeze({\n    BLE_CONNECT: 'BLE_CONNECT',\n    BLE_DISCONNECT: 'BLE_DISCONNECT',\n\n    BLE_CURRENT_SET_POINT: 'BLE_CURRENT_SET_POINT',\n    BLE_BATTERY_STATUS: 'BLE_BATTERY_STATUS',\n    BLE_PUFF_COUNT: 'BLE_PUFF_COUNT',\n    BLE_PUFF_SECONDS: 'BLE_PUFF_SECONDS'\n});\n\nexport const bleObserver = new ObserverPattern();\n","import subs, { bleObserver } from '../observers';\n\n\nconst uuidServiceAdvertising = '0000180a-0000-1000-8000-00805f9b34fb';\nconst uuidServiceCommand = '01afc722-9944-ad4c-5951-d1cca699ba0f';\n\n//const uuidCharName = '00002a00-0000-1000-8000-00805f9b34fb';\n//const uuidCharManufacturer = '00002a29-0000-1000-8000-00805f9b34fb';\nconst uuidCharFirmwareVersion = '00002a26-0000-1000-8000-00805f9b34fb';\nconst uuidCharCommand = 'acee8829-8791-42f0-51b2-26fa29603130';\nconst uuidCharResponse = '01cb8a25-2498-264b-2929-e20421ef53b2';\n\n\nclass BLEManager {\n    constructor() {\n        this.isConnected = false;\n        this.device = null;\n        this.server = null;\n\n        this.svcInfo = null;\n        this.svcCommand = null;\n\n        this.charCommand = null;\n        this.charResponse = null;\n    }\n\n    async connect() {\n        if (this.isConnected === true) {\n            return;\n        }\n\n        let options = {};\n        options.acceptAllDevices = true;\n        options.optionalServices = [uuidServiceAdvertising, uuidServiceCommand];\n\n        this.device = await navigator.bluetooth.requestDevice(options);\n\n        if (this.device != null) {\n            this.isConnected = true;\n            this.device.addEventListener('gattserverdisconnected', this.onDisconnected);\n\n            this.server = await this.device.gatt.connect();\n\n            if (this.server != null) {\n                // Get the 2 main services we use\n                this.svcInfo = await this.server.getPrimaryService(uuidServiceAdvertising);\n                this.svcCommand = await this.server.getPrimaryService(uuidServiceCommand);\n\n                // Setup the listener for the command responses\n                this.charResponse = await this.svcCommand.getCharacteristic(uuidCharResponse);\n                this.charResponse.addEventListener('characteristicvaluechanged', this.onCharResponseValueChanged);\n                this.charResponse.startNotifications();\n\n                // Store the command characteristic as it will be frequently used\n                this.charCommand = await this.svcCommand.getCharacteristic(uuidCharCommand);\n            }\n            else {\n                this.isConnected = false;\n            }\n        }\n\n        return this.isConnected;\n    }\n\n    disconnect() {\n        if (this.device) {\n            this.device.gatt.disconnect();\n        }\n\n        this.isConnected = false;\n    }\n\n    onDisconnected() {\n        console.log('Disconnected');\n\n        this.charResponse = null;\n        this.charCommand = null;\n        this.svcCommand = null;\n        this.svcInfo = null;\n\n        this.bleServer = null;\n        this.bleDevice = null;\n    }\n\n    onCharResponseValueChanged(event) {\n        console.log('received response from pen...');\n        console.log(event.target.value.getUint8(0));\n\n        switch (event.target.value.getUint8(0)) {\n            case 5: // Temperature\n                let currentTemperature = event.target.value.getUint8(1) + (event.target.value.getUint8(2) * 256);\n\n                console.log(`Current Set Temperature is ${currentTemperature}°C`);\n                bleObserver.sendMsg(subs.BLE_CURRENT_SET_POINT, currentTemperature);\n                break;\n            /*\n                        case 30: // Discreet Mode\n                            let discreetMode = event.target.value.getUint8(1);\n                            discreetModeToggle.checked = discreetMode === 1;\n                            break;\n            */\n            case 140: // Battery Status\n                let batteryPercentage = event.target.value.getUint8(1);\n\n                console.log(`Battery Status is ${batteryPercentage}%`);\n                bleObserver.sendMsg(subs.BLE_BATTERY_STATUS, batteryPercentage);\n                break;\n\n            case 173: // Puff Count\n                let totalCount = event.target.value.getUint16(1, true);\n\n                console.log(`Puff Count is ${totalCount}%`);\n                bleObserver.sendMsg(subs.BLE_PUFF_COUNT, totalCount);\n                break;\n\n            case 175: // Puff Time\n                let totalTime = event.target.value.getFloat32(1, true);\n                bleObserver.sendMsg(subs.BLE_PUFF_SECONDS, totalTime.toFixed(2));\n                break;\n\n            case 253:\n                console.log(' BAD_COMMAND_SAFETY');\n                break;\n\n            case 254:\n                console.log(' BAD_COMMAND_LENGTH');\n                break;\n\n            case 255:\n                console.log(' BAD_REQUEST');\n                break;\n\n            default:\n                console.log('UNKNOWN RESPONSE');\n                break;\n        }\n    }\n\n    getSetPointTemperature() {\n        if (this.charCommand != null) {\n            var cmdGetTemp = new ArrayBuffer(1);\n\n            var data = new DataView(cmdGetTemp);\n            data.setUint8(0, 5);\n\n            return this.charCommand.writeValue(cmdGetTemp);\n        }\n    }\n\n    setSetPointTemperature(temperature) {\n        console.log(`::setDeviceTemperature to ${temperature}`);\n\n        if (this.charCommand != null) {\n            var cmdIncreaseTemp = new ArrayBuffer(3);\n\n            var data = new DataView(cmdIncreaseTemp);\n            data.setUint8(0, 4);\n            data.setUint8(1, (temperature) % 256);\n            data.setUint8(2, Math.floor((temperature) / 256));\n\n            return this.charCommand.writeValue(cmdIncreaseTemp);\n        }\n    }\n\n    getBatteryStatus() {\n        if (this.charCommand != null) {\n            // Force a refresh of the current battery level in the pen\n            //var cmdForceBatteryUpdate = new ArrayBuffer(1);\n            //var data = new DataView(cmdForceBatteryUpdate);\n            //data.setUint8(0, 139);\n            //await this.charCommand.writeValue(cmdForceBatteryUpdate);\n\n            // Response will be retrieved from the response buffer\n            var cmdGetBatteryUpdate = new ArrayBuffer(1);\n            var data = new DataView(cmdGetBatteryUpdate);\n            data.setUint8(0, 140);\n            this.charCommand.writeValue(cmdGetBatteryUpdate);\n        }\n    }\n\n    getPuffTime() {\n        if (this.charCommand != null) {\n            var cmdGetPuffTime = new ArrayBuffer(1);\n            var data = new DataView(cmdGetPuffTime);\n            data.setUint8(0, 175);\n\n            this.charCommand.writeValue(cmdGetPuffTime);\n        }\n    }\n\n    getPuffCount() {\n        if (this.charCommand != null) {\n            var cmdGetPuffCount = new ArrayBuffer(1);\n            var data = new DataView(cmdGetPuffCount);\n            data.setUint8(0, 173);\n\n            this.charCommand.writeValue(cmdGetPuffCount);\n        }\n    }\n\n    async getDeviceInfo() {\n        if (this.svcInfo == null) {\n            return null;\n        }\n\n        let charFirmware = await this.svcInfo.getCharacteristic(uuidCharFirmwareVersion);\n        let firmware = await charFirmware.readValue();\n\n        let decoder = new TextDecoder('utf-8');\n        firmware = decoder.decode(firmware);\n        console.log(`Firmware version: ${firmware}`);\n    }\n}\n\nlet bleManager = new BLEManager();\n\nexport default bleManager;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport bleManager from './managers/ble-manager';\nimport { CircleSlider } from 'react-circle-slider';\nimport logo from './imgs/juju_fern_white.png';\nimport accountInfo from './imgs/accountInfo.png';\nimport device from './imgs/device.png';\nimport tweedLogo from './imgs/tweed_logo.png';\nimport oilBanner from './imgs/jujuNoNameBanner.png';\nimport unlock from './imgs/unlock.png';\nimport controlInfo from './imgs/controlInfo.png';\nimport subs, { bleObserver } from './observers';\nimport battery from './imgs/battery.png';\n\n\nexport default class DeviceControl extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            redirect: null,\n            setPointTemperature: 330,\n            batteryPercentage: 0,\n            puffCount: 0,\n            puffSeconds: 0\n        };\n\n        bleObserver.subscribe(subs.BLE_CURRENT_SET_POINT, this.onGetSetPointTemperature.bind(this));\n        bleObserver.subscribe(subs.BLE_BATTERY_STATUS, this.onGetBatterStatus.bind(this));\n        bleObserver.subscribe(subs.BLE_PUFF_COUNT, this.onGetPuffCount.bind(this));\n        bleObserver.subscribe(subs.BLE_PUFF_SECONDS, this.onGetPuffSeconds.bind(this));\n\n        this.disconnectFromDevice = this.disconnectFromDevice.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidMount() {\n        console.log('COMPONENT DID MOUNT');\n\n        bleManager.getSetPointTemperature();\n        setTimeout(() => { bleManager.getBatteryStatus(); }, 100);\n        setTimeout(() => { bleManager.getPuffCount(); }, 200);\n        setTimeout(() => { bleManager.getPuffTime(); }, 300);\n\n        //bleManager.getBatteryStatus();\n        //bleManager.getPuffCount();\n        //bleManager.getPuffTime();\n    }\n\n    disconnectFromDevice() {\n        bleManager.disconnect();\n\n        this.setState({\n            redirect: '/'\n        });\n    }\n\n    handleChange = this.debounce(value => {\n        bleManager.setSetPointTemperature(value);\n\n        this.setState({\n            setPointTemperature: value\n        });\n    }, 15);\n\n    onGetSetPointTemperature(temperature) {\n        this.setState({\n            setPointTemperature: temperature\n        });\n    }\n\n    onGetBatterStatus(batteryPercentage) {\n        this.setState({\n            batteryPercentage: batteryPercentage\n        });\n    }\n\n    onGetPuffSeconds(puffSeconds) {\n        this.setState({\n            puffSeconds: puffSeconds\n        });\n    }\n\n    onGetPuffCount(puffCount) {\n        this.setState({\n            puffCount: puffCount\n        });\n    }\n\n    debounce(func, wait, immediate) {\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            var later = function () {\n                timeout = null;\n                if (!immediate) func.apply(context, args);\n            };\n            var callNow = immediate && !timeout;\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n            if (callNow) func.apply(context, args);\n        };\n    };\n\n    render() {\n        if (this.state.redirect) {\n            return <Redirect to={this.state.redirect} />\n        }\n        else {\n            return (\n                <div className=\"text-center vh-100\" style={{ display: 'flex', flex: 1, flexDirection: 'column', height: '100%', backgroundImage: `linear-gradient(#25272a, #181a1d)`, maxWidth: 500 }}>\n\n                    <div className=\"container-fluid\">\n                        <div className=\"row\">\n                            <div className=\"col-2\" >&nbsp;</div>\n                            <div className=\"col-8 text-center\" >\n                                <img className=\"img-fluid\" src={logo} alt='' style={{ height: 50, width: 50, margin: 10 }} />\n                            </div>\n                            <div className=\"col-2 text-center\" >\n                                <img className=\"img-fluid\" src={accountInfo} alt='' style={{ height: 40, width: 40, margin: 10, marginTop: 15 }} />\n                            </div>\n                        </div>\n                    </div>\n\n\n                    <div style={{ display: 'flex', flex: 1, flexDirection: 'column', marginLeft: 10, marginRight: 10, alignItems: 'stretch', borderRadius: 8, backgroundImage: `linear-gradient(#3c3e42, #4b4d52)` }}>\n                        <div style={{ display: 'flex', flexDirection: 'row', marginTop: 10 }}>\n                            <div style={{ justifyContent: 'center', width: '15%', alignSelf: 'center', }}>\n                                <img src={unlock} alt='' style={{ height: 30, width: 30 }} />\n                            </div>\n                            <div style={{ flex: 1, justifyContent: 'center' }}>\n                                <img className=\"text-center\" src={tweedLogo} alt='' style={{ height: 70 }} />\n                            </div>\n                            <div style={{ width: '15%', justifyContent: 'center', alignSelf: 'center' }}>\n                                <img src={controlInfo} alt='' style={{ height: 30, width: 30 }} />\n                            </div>\n                        </div>\n\n                        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', height: '100%', alignItems: 'stretch' }}>\n                            <div style={{ justifyContent: 'center', color: '#ffff00', marginTop: 25, fontFamily: 'Montserrat-Medium' }}>\n                                HOUNDSTOOTH\n                            </div>\n                            <div style={{ justifyContent: 'center', color: '#ffffff', fontSize: 12, fontFamily: 'Montserrat-Medium' }}>\n                                FATPUPPY\n                            </div>\n                            <div style={{ position: 'relative', flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                                <CircleSlider value={this.state.setPointTemperature} onChange={this.handleChange} min={300} max={400} progressWidth={4} knobRadius={15}\n                                    circleColor={'#000000'} progressColor={'#ffff00'} shadow={true} size={275} knobColor={'#ffff00'}\n                                />\n                                <div style={{ pointerEvents: 'none', height: 300, width: 300, position: 'absolute', top: '36%', color: '#bbbbbb', fontSize: 16, fontFamily: 'Montserrat-Medium' }}>\n                                    TEMPERATURE\n                                </div>\n                                <div style={{ pointerEvents: 'none', height: 300, width: 300, position: 'absolute', top: '39%', color: '#ffffff', fontSize: 48, fontFamily: 'Montserrat-Medium' }}>\n                                    {this.state.setPointTemperature} °C\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"container-fluid\">\n                            <div className=\"row\" style={{ marginBottom: 10 }}>\n                                <div className=\"col-6\" style={{ alignItems: 'flex-start', fontSize: 12, fontFamily: 'Montserrat-Medium', color: '#ffffff' }} >\n                                    BATTERY:  {this.state.batteryPercentage}%\n                                </div>\n                                <div className=\"col-6 text-center\" style={{ fontFamily: 'Montserrat-Medium', fontSize: 12, color: '#ffffff' }}>\n                                    PUFFS: ({this.state.puffCount} puffs)  {this.state.puffSeconds} sec.\n                                </div>\n                            </div>\n                        </div>\n\n                        <div style={{ paddingLeft: 0, paddingRight: 0 }}>\n                            <img src={oilBanner} alt='' style={{ height: 40, width: \"100%\" }} />\n                        </div>\n\n                        <div style={{\n                            display: 'flex', justifyContent: 'center', alignItems: 'center', paddingLeft: 0,\n                            paddingRight: 0, height: 80, backgroundColor: \"#333333\", color: '#ffffff', borderBottomLeftRadius: 8,\n                            borderBottomRightRadius: 8, fontFamily: 'Montserrat-Medium'\n                        }}>\n                            <button className=\"btnConnect\" style={{ backgroundColor: '#EEEEEE' }} onClick={this.disconnectFromDevice} >\n                                DISCONNECT\n                            </button>\n                        </div>\n\n                    </div>\n\n                    <div style={{ height: 80 }}>\n                        <img className=\"img-fluid\" src={device} alt='' style={{ height: 50, width: 50, marginTop: 5 }} />\n                        <div style={{ color: '#ffff00', marginTop: -10, marginBottom: 10, fontSize: 14, fontFamily: 'Montserrat-Regular' }}>\n                            DEVICE\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n    }\n}","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport bleManager from './managers/ble-manager';\nimport './index.css';\n\nimport logo from './imgs/juju_fern_white.png';\nimport accountInfo from './imgs/accountInfo.png';\nimport device from './imgs/device.png';\nimport tweedLogo from './imgs/tweed_logo.png';\nimport oilBanner from './imgs/jujuNoNameBanner.png';\nimport pen from './imgs/Houndstooth.png';\n\n\nexport default class HomeScreen extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { redirect: null };\n\n        this.connectToDevice = this.connectToDevice.bind(this);\n    }\n\n    async connectToDevice() {\n        try {\n            let isConnected = await bleManager.connect();\n\n            if (isConnected === true) {\n                this.setState({\n                    redirect: '/device-control'\n                });\n            }\n            else {\n                console.log('Failed to connect');\n            }\n        }\n        catch (e) {\n            console.log('Error connecting to device');\n            console.log(e);\n        }\n    }\n\n    render() {\n        if (this.state.redirect) {\n            return <Redirect to={this.state.redirect} />\n        }\n        else {\n            return (\n                <div className=\"text-center vh-100\" style={{ display: 'flex', flex: 1, flexDirection: 'column', height: '100%', backgroundImage: `linear-gradient(#25272a, #181a1d)`, maxWidth: 500 }}>\n\n                    <div className=\"container-fluid\">\n                        <div className=\"row\">\n                            <div className=\"col-2\" >&nbsp;</div>\n                            <div className=\"col-8 text-center\" >\n                                <img className=\"img-fluid\" src={logo} alt='' style={{ height: 50, width: 50, margin: 10 }} />\n                            </div>\n                            <div className=\"col-2 text-center\" >\n                                <img className=\"img-fluid\" src={accountInfo} alt='' style={{ height: 40, width: 40, margin: 10, marginTop: 15 }} />\n                            </div>\n                        </div>\n                        <div style={{ display: 'flex', flexDirection: 'row', marginTop: 5, marginBottom: 10 }}>\n                            <div style={{ flex: 1, justifyContent: 'center', color: '#ffffff', fontSize: 28, fontFamily: 'Montserrat-Medium' }}>\n                                DEVICE PAIRING\n                            </div>\n                        </div>\n                    </div>\n\n\n                    <div style={{ display: 'flex', flex: 1, flexDirection: 'column', marginLeft: 10, marginRight: 10, alignItems: 'stretch', borderRadius: 8, backgroundImage: `linear-gradient(#3c3e42, #4b4d52)` }}>\n\n                        <div style={{ display: 'flex', flexDirection: 'row', marginTop: 10 }}>\n                            <div style={{ justifyContent: 'center', width: '15%', alignSelf: 'center', }}>\n\n                            </div>\n                            <div style={{ flex: 1, justifyContent: 'center' }}>\n                                <img className=\"text-center\" src={tweedLogo} alt='' style={{ height: 70 }} />\n                            </div>\n                            <div style={{ width: '15%', justifyContent: 'center', alignSelf: 'center' }}>\n                            </div>\n                        </div>\n\n                        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', height: '100%', alignItems: 'stretch', marginTop: -10 }}>\n                            <div style={{ justifyContent: 'center', color: '#ffff00', marginTop: 25, fontFamily: 'Montserrat-Medium' }}>\n                                HOUNDSTOOTH\n                            </div>\n                            <div style={{ justifyContent: 'center', color: '#ffffff', fontSize: 12, fontFamily: 'Montserrat-Medium' }}>\n                                FATPUPPY\n                            </div>\n                        </div>\n\n                        <div style={{ position: 'relative', paddingLeft: 0, paddingRight: 0 }}>\n                            <img src={pen} alt='' style={{ height: 300, width: 300, position: 'absolute', bottom: 0, left: '18%', zIndex: 1000 }} />\n                            <img src={oilBanner} alt='' style={{ height: 100, width: \"100%\", position: 'absolute', bottom: 0, left: 0 }} />\n                        </div>\n\n                        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', paddingLeft: 0, paddingRight: 0, height: 80, backgroundColor: \"#333333\", color: '#ffffff', borderBottomLeftRadius: 8, borderBottomRightRadius: 8 }}>\n                            <button className=\"btnConnect\" style={{ backgroundColor: '#ffff00' }} onClick={this.connectToDevice} >\n                                CONNECT\n                            </button>\n                        </div>\n\n                    </div>\n\n                    <div style={{ height: 80 }}>\n                        <img className=\"img-fluid\" src={device} alt='' onClick={this.disconnectFromDevice} style={{ height: 50, width: 50, marginTop: 5 }} />\n                        <div style={{ color: '#ffff00', marginTop: -10, marginBottom: 10, fontSize: 14, fontFamily: 'Montserrat-Regular' }}>\n                            DEVICE\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport DeviceControl from './device-control';\nimport HomeScreen from './home-screen';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <div>\n            <Route exact path='/' component={HomeScreen} />\n            <Route path='/device-control' component={DeviceControl} />\n        </div>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}